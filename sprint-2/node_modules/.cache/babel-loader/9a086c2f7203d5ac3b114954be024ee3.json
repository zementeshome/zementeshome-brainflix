{"ast":null,"code":"var _jsxFileName = \"/Users/zementeshome/zemen-teshome-brainflix/sprint-2/src/components/Home/Home.jsx\";\nimport React, { Component } from 'react';\nimport Header from '../Header/Header';\nimport Hero from '../Hero/Hero';\nimport Highlights from '../Highlights/Highlights';\nimport Form from '../Form/Form';\nimport Comments from '../Comments/Comments';\nimport Aside from '../Aside/Aside';\nimport Axios from 'axios';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userImage: '/assets/Images/Mohan-muruge.jpg',\n      mainVideo: {\n        commentsArr: []\n      },\n      sideVideo: []\n    };\n  }\n\n  componentDidMount() {\n    Axios.get('https://project-2-api.herokuapp.com/videos?api_key=10b750d1-c831-4923-a2a8-be05839d83de').then(response => {\n      Axios.get('https://project-2-api.herokuapp.com/videos/1af0jruup5gu?api_key=10b750d1-c831-4923-a2a8-be05839d83de').then(res => {\n        console.log(response, res); // timestamp for video playing \n\n        let time = new Date(res.data.timestamp);\n        res.data.timestamp = time.toLocaleDateString(); // timestamp for comments \n\n        let commentsTime = new Date(res.data.comments[0].timestamp);\n        res.data.comments[0].timestamp = commentsTime.toLocaleDateString();\n        let commentsTime2 = new Date(res.data.comments[1].timestamp);\n        res.data.comments[1].timestamp = commentsTime2.toLocaleDateString();\n        let commentsTime3 = new Date(res.data.comments[2].timestamp);\n        res.data.comments[2].timestamp = commentsTime3.toLocaleDateString(); // removes video playing from next video array\n\n        let mainVideo = res.data;\n        mainVideo.commentsArr = res.data.comments;\n        const mainVideoIndex = response.data.findIndex(video => video.id === mainVideo.id);\n\n        if (mainVideoIndex === mainVideo.id) {\n          response.data.splice(mainVideoIndex, 1);\n        }\n\n        this.setState({\n          mainVideo: mainVideo,\n          sideVideo: response.data\n        });\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    // if the current video is not equal to the video being clicked then display in video player\n    if (this.props && prevProps && prevProps.match && prevProps.match.params.id !== this.props.match.params.id) {\n      Axios.get(`https://project-2-api.herokuapp.com/videos/${this.props.match.params.id}?api_key=10b750d1-c831-4923-a2a8-be05839d83de`).then(response => {\n        let nextVideoTime = new Date(response.data.timestamp);\n        response.data.timestamp = nextVideoTime.toLocaleDateString();\n        let nextVideoComment = new Date(response.data.comments[0].timestamp);\n        response.data.comments[0].timestamp = nextVideoComment.toLocaleDateString();\n        let nextVideoComment2 = new Date(response.data.comments[1].timestamp);\n        response.data.comments[1].timestamp = nextVideoComment2.toLocaleDateString();\n        let nextVideoComment3 = new Date(response.data.comments[2].timestamp);\n        response.data.comments[2].timestamp = nextVideoComment3.toLocaleDateString(); // let mainVideo2 = response.data\n        // mainVideo2.commentsArr = response.data.comments\n        // const mainVideoIndex2 = response.data.findIndex(video =>\n        //   video.id === mainVideo2.id)\n        // if (mainVideoIndex2 > -1) {\n        //   response.data.splice(mainVideoIndex2, 1)\n        // }\n\n        console.log(response);\n        this.setState({ ...this.state,\n          mainVideo: { ...response.data,\n            commentsArr: response.data.comments\n          }\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  } // removeItem(index) {\n  //   this.setState({\n  //     sideVideo: this.state.sideVideo.filter((x, i) => i != index })\n  //   })\n  // }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      userImage: this.state.userImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"app__main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Hero, {\n      mainVideo: this.state.mainVideo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Highlights, {\n      mainVideo: this.state.mainVideo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      userImage: this.state.userImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app__comments-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Comments, {\n      mainVideo: this.state.mainVideo.commentsArr,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Aside, {\n      sideVideo: this.state.sideVideo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/zementeshome/zemen-teshome-brainflix/sprint-2/src/components/Home/Home.jsx"],"names":["React","Component","Header","Hero","Highlights","Form","Comments","Aside","Axios","Home","state","userImage","mainVideo","commentsArr","sideVideo","componentDidMount","get","then","response","res","console","log","time","Date","data","timestamp","toLocaleDateString","commentsTime","comments","commentsTime2","commentsTime3","mainVideoIndex","findIndex","video","id","splice","setState","catch","error","componentDidUpdate","prevProps","props","match","params","nextVideoTime","nextVideoComment","nextVideoComment2","nextVideoComment3","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Header from '../Header/Header';\nimport Hero from '../Hero/Hero';\nimport Highlights from '../Highlights/Highlights';\nimport Form from '../Form/Form';\nimport Comments from '../Comments/Comments';\nimport Aside from '../Aside/Aside';\nimport Axios from 'axios'\n\nclass Home extends Component {\n\n  state = {\n\n    userImage: '/assets/Images/Mohan-muruge.jpg',\n\n\n    mainVideo: {\n\n      commentsArr: []\n\n    },\n\n    sideVideo: []\n\n  }\n\n  componentDidMount() {\n\n    Axios.get('https://project-2-api.herokuapp.com/videos?api_key=10b750d1-c831-4923-a2a8-be05839d83de')\n      .then(response => {\n        Axios.get('https://project-2-api.herokuapp.com/videos/1af0jruup5gu?api_key=10b750d1-c831-4923-a2a8-be05839d83de')\n          .then(res => {\n            console.log(response, res)\n\n            // timestamp for video playing \n\n            let time = new Date(res.data.timestamp)\n            res.data.timestamp = time.toLocaleDateString();\n\n            // timestamp for comments \n\n            let commentsTime = new Date(res.data.comments[0].timestamp)\n            res.data.comments[0].timestamp = commentsTime.toLocaleDateString();\n\n            let commentsTime2 = new Date(res.data.comments[1].timestamp)\n            res.data.comments[1].timestamp = commentsTime2.toLocaleDateString();\n\n            let commentsTime3 = new Date(res.data.comments[2].timestamp)\n            res.data.comments[2].timestamp = commentsTime3.toLocaleDateString();\n\n            // removes video playing from next video array\n\n            let mainVideo = res.data\n            mainVideo.commentsArr = res.data.comments\n            \n            const mainVideoIndex = response.data.findIndex(video =>\n              video.id === mainVideo.id)\n\n            if (mainVideoIndex === mainVideo.id) {\n              response.data.splice(mainVideoIndex, 1)\n            }\n            this.setState({\n              mainVideo: mainVideo,\n              sideVideo: response.data\n            })\n          })\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }\n\n  componentDidUpdate(prevProps) {\n\n    // if the current video is not equal to the video being clicked then display in video player\n\n    if (this.props && prevProps && prevProps.match && prevProps.match.params.id !== this.props.match.params.id) {\n      Axios.get(`https://project-2-api.herokuapp.com/videos/${this.props.match.params.id}?api_key=10b750d1-c831-4923-a2a8-be05839d83de`)\n        .then(response => {\n\n          let nextVideoTime = new Date(response.data.timestamp)\n          response.data.timestamp = nextVideoTime.toLocaleDateString();\n\n            let nextVideoComment = new Date(response.data.comments[0].timestamp)\n            response.data.comments[0].timestamp = nextVideoComment.toLocaleDateString();\n\n            let nextVideoComment2 = new Date(response.data.comments[1].timestamp)\n            response.data.comments[1].timestamp = nextVideoComment2.toLocaleDateString();\n\n            let nextVideoComment3 = new Date(response.data.comments[2].timestamp)\n            response.data.comments[2].timestamp = nextVideoComment3.toLocaleDateString();\n\n            // let mainVideo2 = response.data\n            // mainVideo2.commentsArr = response.data.comments\n\n            // const mainVideoIndex2 = response.data.findIndex(video =>\n            //   video.id === mainVideo2.id)\n\n            // if (mainVideoIndex2 > -1) {\n            //   response.data.splice(mainVideoIndex2, 1)\n        // }\n          console.log(response);\n          this.setState({\n            ...this.state,\n            mainVideo: {...response.data, commentsArr: response.data.comments},\n          })\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n\n  // removeItem(index) {\n\n  //   this.setState({\n  //     sideVideo: this.state.sideVideo.filter((x, i) => i != index })\n  //   })\n  // }\n\n  render() {\n\n    return (\n\n      <div className=\"app\">\n        <Header userImage={this.state.userImage} />\n        <main className=\"app__main\">\n          <Hero mainVideo={this.state.mainVideo} />\n          <Highlights mainVideo={this.state.mainVideo} />\n          <Form userImage={this.state.userImage} />\n          <div className=\"app__comments-container\">\n            <Comments mainVideo={this.state.mainVideo.commentsArr} />\n          </div>\n          <Aside sideVideo={this.state.sideVideo} />\n        </main>\n      </div>\n    )\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}